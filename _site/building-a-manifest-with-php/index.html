<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Building a manifest with PHP</title>
   <meta name="author" content="Martijn van de Rijdt" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <meta name="apple-mobile-web-app-capable" content="yes" />
   <link rel="alternate" type="application/rss+xml" title="Enketo Blog" href="http://blog.enketo.orgfeed/" />

   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
   <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

   <link rel="shortcut icon" href="/images/enketo.ico">
   <!-- For third-generation iPad with high-resolution Retina display: -->
   <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/icon_144x144.png">
   <!-- For iPhone with high-resolution Retina display: -->
   <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/icon_114x114.png">
   <!-- For first- and second-generation iPad: -->
   <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/icon_72x72.png">
   <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
   <link rel="apple-touch-icon-precomposed" href="/images/icon_57x57.png">
   <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
   <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
<body> 
   <header class="navbar navbar-fixed-top">
      <section class="content navbar-innner">
         <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
            </a>
            <a class="brand" href="/" title="Blog about Enketo and other tools for Aid Workers">Enketo Blog</a>
            <nav class="nav-collapse collapse">
               <ul class="nav nav-pills">
                  <li class="active"><a href="/">Blog</a></li>
                  <li><a href="http://enketo.org">Home</a></li>
                  <li class="nav-icon"><a href="http://github.com/martijnr/" title="Go to GitHub"><i class="icon-github"></i></a></li>
                  <li class="nav-icon"><a href="http://twitter.com/enketo/" title="Follow on Twitter"><i class="icon-twitter"></i></a></li>
                  <li class="nav-icon"><a href="http://www.linkedin.com/in/martijnvanderijdt/" title="Follow on LinkedIn"><i class="icon-linkedin"></i></a></li>
                  <li class="nav-icon"><a href="http://blog.enketo.org/feed/" title="Subscribe to RSS Feed"><i class="icon-feed"></i></a></li>
               </ul>
            </nav>
         </div>
      </section>
   </header>
   <div class="container main">
      <article class="content">

        <article id="post">
	<h2>Building a manifest with PHP</h2>
	<p>Warning: this is a technical post (an exception)…</p>

<p>As mentioned in a <a href="/offline-capable-web-applications/">earlier post</a> offline-capable web application technology has the potential to offer exciting opportunities for aid workers once suitable apps become available.</p>

<p>For application developers, creating an offline-capable web application starts by ordering the browser to create a persistent copy of the application in its Application Cache. This is done using a manifest file with a specific format that contains a list of the required offline resources (files) plus a few other things. From experience, I can share that creating and updating such a manifest by hand when a developing a web application is a thoroughly frustrating exercise due to the difficulty to troubleshoot the many problems that can, and will, arise. Moreover, it is inconvenient to manually update the version number each time the code has changed. Ideally this should all be automated.</p>

<p><a href="http://gearsblog.blogspot.com/2011/03/stopping-gears.html"><img src="../files/2011/12/Manifest_builder-300x190.png" alt="GitHub screenshot" /></a></p>

<p>I built a controller for the CodeIgniter (PHP) framework that does this. It dynamically creates a manifest and (usually) is able to tell when the application has changed by creating a hash of the resource content. If the hash changes (the ‘version number’ changes) the browser will refresh its Application Cache by downloading a new version of the application the next time it is online. It also includes a method to generate a Gears-formatted manifest (actually obsolete now, because <a href="http://gearsblog.blogspot.com/2011/03/stopping-gears.html">Gears has sadly been deprecated</a>, before the remaining minority of Internet Explorer users finally switched to a <a href="/humanitarian-aid-browsing/">better browser</a>). The Manifest Builder has greatly simplified the development of the offline-capable survey application I am working on.</p>

<p>The Manifest Builder has been open-sourced (my first contribution!) and is available for download on <a href="https://github.com/MartijnR/Manifest-Builder">GitHub</a>.</p>

	
	<section class="comments">
		<div id="disqus_thread"></div>
	    <script type="text/javascript">
	        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	        var disqus_shortname = 'webtoolsforaidworkers'; // required: replace example with your forum shortname

	        /* * * DON'T EDIT BELOW THIS LINE * * */
	        (function() {
	            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	        })();
	    </script>
	    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	</section>
	
</article>

<section id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>17 May 2013</span> &raquo; <a href="/nomad-presention-2013/">Presentation on Enketo for Humanitarian Nomad 2013</a></li>
    
      <li><span>16 May 2013</span> &raquo; <a href="/enketo-branding/">Smart Paper</a></li>
    
      <li><span>05 Mar 2013</span> &raquo; <a href="/enketo-performance/">Enketo starts to fly</a></li>
    
  </ul>
</section>

      </article>
   </div>
     
   <footer>
      <section class="content">
         <a class="enketo-icon" href="http://enketo.org" title="Go to Enketo.org"><img src="images/icon_144x144.png" alt="enketo icon"/></a>
         <div class="copyright">&copy; 2013, Enketo LLC</div>
         <div class="info">
            <a href="http://github.com/martijnr/" title="Go to GitHub"><i class="icon-github"></i></a>
            <a href="http://twitter.com/enketo/" title="Follow on Twitter"><i class="icon-twitter"></i></a>
            <a href="http://www.linkedin.com/in/martijnvanderijdt/" title="Follow on LinkedIn"><i class="icon-linkedin"></i></a>
            <a href="http://blog.enketo.org/feed/" title="Subscribe to RSS Feed"><i class="icon-feed"></i></a>
         </div>
      </section>
   </footer>

   <!-- Google Analytics -->
   <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-6765789-12', 'enketo.org');
     ga('send', 'pageview');

   </script>
   <!-- Google Analytics end -->

   </body>
</html>
